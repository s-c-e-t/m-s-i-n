<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Logic Puzzle Hints</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="container">
    <h1>Logic Puzzle Hints</h1>
    <p>
      Use the clues to figure out which month each person gave the gift and the correct room that it's in.
      Click the button below to receive a hint.
    </p>

    <div>
      <button id="hint-btn" onclick="showHint()">Reveal Next Hint</button>
      <div id="hints"></div>
    </div>

    <div>
      <h2>Assign your answers</h2>
      <div id="answers"></div>
      <button onclick="checkSolution()">Check Solution</button>
      <div id="message"></div>
    </div>
  </div>

  <script>
    // --- Clues ---
    const clues = [
      'Place "O" where Jacob and Kitchen align (clue 2). Place "O" where Rob and March align. (clue 4) [Don\'t forget to place "X", horizontally and vertically from those "O"s, since those alignments are impossible now.]',
      'Kate\'s gift was before the gift in the Bedroom, therefore Kate\'s gift cannot be the one in the Bedroom. (clue 1) [Place "X" where Kate and Bedroom align.]',
      'Kate\'s gift could not be given in April because if it was that would make the Bedroom gift given in May, which is not an option. (clue 1) [Place an "X" where Kate and April align.]',
      'Now, Kate\'s gift must have been given in January or February. So, the Bedroom gift must have been given in February or March. (clue 1) [Place "X"s where Bedroom and January/April align.]',
      'Jacob\'s gift cannot be in January or February since it must be 2 months after the one that\'s in the Living Room. (clue 3) [Place "O" where Jacob and April align. Don\'t forget the "X"s.]',
      'Jacob\'s gift is in the Kitchen (clue 2). Using the previous hint. [Place "O" where April and Kitchen align. Don\'t forget the "X"s.]',
      'The Living Room gift was given in February. (clue 3) [Place "O" where Living Room and February align. Don\'t forget the "X"s.]',
      'The Bedroom gift only has one month option now. [Place "O" where Bedroom and March align. Don\'t forget the "X"s.]',
      'The Dining Room gift only has one month option now. [Place "O" where Dining Room and January align.]',
      'Kate\'s gift was given in February. (clue 1) [Place "O" where Kate and February align. Don\'t forget the "X"s.]',
      'Susan\'s gift was given in January (only option left), therefore Susan\'s gift is in the...',
      'Dining Room!',
      'You\'ll find the next clue in the Dining Room',
      'Where are you sitting?',
      'Look under your dinner plate',
      '**no more hints available for this clue'
    ];
    let hintIndex = 0;

    function showHint() {
      const div = document.getElementById('hints');
      div.innerHTML = `<div class="hint">${clues[hintIndex]}</div>`;
      hintIndex++;

      if (hintIndex >= clues.length) {
        document.getElementById('hint-btn').style.display = 'none';
        return;
      }
    }

    // --- Puzzle setup ---
    const people = ['Kate', 'Jacob', 'Rob', 'Susan'];
    const months = ['January', 'February', 'March', 'April'];
    const rooms = ['Kitchen', 'Dining Room', 'Living Room', 'Bedroom'];

    const solution = {
      Kate: { month: 'February', room: 'Living Room'},
      Jacob: { month: 'April', room: 'Kitchen'},
      Rob: { month: 'March', room: 'Bedroom'},
      Susan: { month: 'January', room: 'Dining Room'},
    };

    // --- Render answer selectors ---
    const answersDiv = document.getElementById('answers');

    people.forEach(person => {
      const container = document.createElement('div');
      container.style.marginBottom = '1rem'; // space between each person
      container.innerHTML = `
        <strong>${person}</strong><br>
        <div>
          <select id="${person}-month">
            ${months.map((m, i) => `<option value="${m}" ${i === 0 ? 'selected' : ''}>${m}</option>`).join('')}
          </select>
        </div>
        <div>
          <select id="${person}-room">
            ${rooms.map((r, i) => `<option value="${r}" ${i === 0 ? 'selected' : ''}>${r}</option>`).join('')}
          </select>
        </div>
      `;
      answersDiv.appendChild(container);
    });


    // --- Check solution ---
    function checkSolution() {
      let correct = true;
      people.forEach(person => {
        const month = document.getElementById(`${person}-month`).value;
        const room = document.getElementById(`${person}-room`).value;
        if (month !== solution[person].month ||
            room !== solution[person].room) {
          correct = false;
        }
      });

      const msgDiv = document.getElementById('message');
      if (correct) {
        msgDiv.textContent = 'Mission success! Puzzle solved.';
        msgDiv.className = 'message success';
      } else {
        msgDiv.textContent = 'Not correct â€” check the clues and try again.';
        msgDiv.className = 'message error';
      }
    }
  </script>
</body>
</html>
